<%= render '/users/show', user: @user,book: @book %>
<!-- 共通部分 -->


<h2>Books</h2>
<div class="col-xs-9">
 <table class="table table-hover table-inverse">
  <!-- ここに登録者一覧を書き出したい →できた-->
  <!-- 画像に「その人の本一覧」＝user/id に行くリンクをつけたい できた！でも、「その投稿した人の」にしないと。→f.user.idでかいけつブックに関連するユーザーに関連するidということ。必ず復習！！！！！！！-->
  <thead>
    <th> </th>
    <th>Title</th>
    <th>Opinion</th>
  </thead>

  <% @books.each do |f| %>
  <tr>
    <td><%= link_to attachment_image_tag(f.user, :profile_image, :fill, 100, 100, 
    # userとは、user_idの略称。なんのモデルを参考にするかの時、「本に関連しているユーザーのプロフィール画像」をださないといけないから@userになっている（重要）
    format: 'jpeg', fallback: "no_image.jpg"),user_path(f.user.id) %></td>
    <!-- .userは、「モデル名（小文字）でデータを参照できる,：データを指定」取り出してくるユーザーのデータは１つしかないから単数形：本に関連するユーザーのIDということ-->
    <td><%= link_to f.title, book_path(f.id) %></td>
    <td><%= f.body %></td>
  </tr>
  <% end %>
</table>
</div>

<%# indexは完全に構造理解(2/11) %>

